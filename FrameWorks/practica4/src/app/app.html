<h2>ğŸ¬ PelÃ­culas Disponibles</h2>
<ul *ngIf="hayRegistros(); else sinPeliculas">
  <li *ngFor="let peli of peliculas">
    <strong>{{ peli.titulo }}</strong> - {{ peli.horario }} - Precio: {{ peli.precio }}â‚¬ -
    Butacas disponibles: {{ peli.butacasTotales - peli.butacasOcupadas }}
    <button (click)="seleccionar(peli)">Seleccionar</button>
  </li>
</ul>

<ng-template #sinPeliculas>
  <p>No hay pelÃ­culas disponibles.</p>
</ng-template>

<hr />

<!-- Solo se muestra el formulario si hay una pelÃ­cula seleccionada -->
<div *ngIf="pelicula.id !== 0">
  <h2>ğŸ“ Formulario de Reserva</h2>
  <form #formulario="ngForm" (ngSubmit)="reservar()">
    <label>Nombre:</label>
    <input name="nombreCliente" [(ngModel)]="nombreCliente" required />

    <label>PelÃ­cula seleccionada:</label>
    <input [value]="pelicula.titulo" disabled />

    <label>Cantidad de butacas:</label>
    <input type="number" name="cantidadReservada" [(ngModel)]="cantidadReservada" min="1" required />

    <p>
      Butacas disponibles: {{ pelicula.butacasTotales - pelicula.butacasOcupadas }}
    </p>

    <button type="submit">Reservar</button>
  </form>

  <p *ngIf="mensaje" style="color:red">{{ mensaje }}</p>
</div>

<hr />

<h2>ğŸ“‹ Reservas Realizadas</h2>
<table border="1" *ngIf="reservas.length > 0">
  <tr>
    <th>Cliente</th>
    <th>PelÃ­cula</th>
    <th>Cantidad</th>
    <th>Total (â‚¬)</th>
  </tr>
  <tr *ngFor="let r of reservas">
    <td>{{ r.nombre }}</td>
    <td>{{ r.pelicula }}</td>
    <td>{{ r.cantidad }}</td>
    <td>{{ r.total }}</td>
  </tr>
</table>
